<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro</title>
    <link rel="icon" href="./files/logo.png">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Paytone+One&family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet"
    href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">
</head>
<body class="register-body">

    <nav>
        <img src="./files/logo.png" class="logo" alt="Logo" title="FirstFlight Travels">

        <ul class="navbar">
            <li>
                <a href="./index.html">Home</a>
                    <a href="./cadastro.html">Cadastro/Login</a>
                    <a href="./destinos.html">Destinos</a>
                    <a href="./pacotes.html">Pacotes</a>
                    <a href="./programabeneficente.html">Programa beneficente</a>
                    <a href="./sobrenos.html">Sobre nós</a>
                    <a href="./contato.html">Contato</a>
            </li>
        </ul>
    </nav>

    <section class="registration">
        <div class="register-form">
            <h1>Cadastrar<span>-se</span></h1>
            <form action="/clientes" method="POST" onsubmit="enviarFormulario(event)">

            <input type="text" name="nome" placeholder="Nome" id="nome" required>
            <input type="text" name="sobrenome" placeholder="Sobrenome" id="sobrenome" required>
            <input type="email" name="email" placeholder="Endereço de e-mail" id="email" required>
            <input type="password" name="senha" placeholder="Senha" id="senha" required>
            <input type="password" name="confirmarsenha" placeholder="Confirmar senha" id="confirmarsenha" required>
            <input type="tel" name="fone" placeholder="Telefone" id="fone" required>
            <h4>Gênero</h4>
            <input type="radio" name="genero" id="" required> Masculino &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
            <input type="radio" name="genero" id=""> Feminino
            <br> <br>
            <input type="checkbox" name="t&c" id="" checked required> Aceito os termos e condições.
            <br> <br> 
            <input type="submit" value="Cadastrar-se" class="submitbtn">
            

        </form>
        </div>
        <a href="./login.html" class="button">Já tenho conta</a>
    </section>

<!-- Footer -->

<section class="footer">
    <div class="foot">
        <div class="footer-content">
            
            <div class="footlinks">
                <h4>Acesso rápido</h4>
                <ul>
                    <li><a href="./cadastro.html">Cadastrar</a></li>
                    <li><a href="./sobrenos.html">Sobre nós</a></li>
                    <li><a href="./contato.html">Contato</a></li>
                </ul>
            </div>

            <div class="footlinks">
                <h4>Nossas redes sociais</h4>
                <div class="social">
                    <a href="" target="_blank"><i class='bx bxl-facebook'></i></a>
                    <a href="" target="_blank"><i class='bx bxl-instagram' ></i></a>
                    <a href="" target="_blank"><i class='bx bxl-twitter' ></i></a>
                    <a href="" target="_blank"><i class='bx bxl-youtube' ></i></a>
                </div>
            </div>
            
        </div>
    </div>

    <div class="end">
        <p><i>Copyright </i>© 2023 Airboard Viagens — Todos os direitos reservados.<br></p>
    </div>
</section>

<!-- Javascript -->
<script>
    
async function enviarFormulario(event) {
            event.preventDefault(); // Impede o envio padrão do formulário

            // Obtém os valores dos campos
            const nome = document.getElementById('nome').value;
            const email = document.getElementById('email').value;
            const senha = document.getElementById('senha').value;
           
            // Cria um objeto com os dados
            const novoCliente = {
                nome: nome,
                email: email,
                senha: senha,   
            };

            // Envia os dados para a rota POST
            const response = await fetch('/clientes', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(novoCliente),
            });

            if (response.ok) {
                console.log('Cliente cadastrado com sucesso!');
                // Adicione aqui o redirecionamento ou lógica desejada após o cadastro
            } else {
                console.error('Erro ao cadastrar cliente:', response.statusText);
                // Adicione aqui a lógica desejada para lidar com erros
            }
        }
</script>

</body>
</html>
